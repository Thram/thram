!function(){function e(){var e,t=[],n=document,r=n.documentElement.doScroll,o="DOMContentLoaded",a=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return a||n.addEventListener(o,e=function(){for(n.removeEventListener(o,e),a=1;e=t.shift();)e()}),function(e){a?setTimeout(e,0):t.push(e)}}var t=function(){function e(){var e=document.createElement("div");return e.innerHTML+=arguments[0],e.firstElementChild}function n(){var e=arguments[1]||document,t=e.querySelectorAll(arguments[0]);return 1===t.length?t[0]:t}var r,o={},a=arguments[0];return r=t.toolbox.isDOMElement(a)?a:/<[a-z][\s\S]*>/i.test(a)?e(a):n(a,arguments[1]),o.remove=function(){if(arguments[0]){if(arguments[1]){var e=t.toolbox.toCamelCase(arguments[1].split("-").join(" "));switch(arguments[0]){case"data":delete r.dataset[e];break;case"prop":delete r[e];break;case"attr":r.removeAttribute(e);break;case"css":delete r.style[e]}return o}throw t.exceptions.missing_argument}r.parentElement.removeChild(r)},o.data=function(){if(arguments[0]){var e=t.toolbox.toCamelCase(arguments[0].split("-").join(" "));return arguments[1]?r.dataset[e]=arguments[1]:r.dataset[e]}throw t.exceptions.missing_key},o.prop=function(){if(arguments[0]){var e=t.toolbox.toCamelCase(arguments[0].split("-").join(" "));return arguments[1]?r[e]=arguments[1]:r[e]}throw t.exceptions.missing_key},o.attr=function(){if(arguments[0])return arguments[1]?r.setAttribute(arguments[0],arguments[1]):r.getAttribute(arguments[0]);throw t.exceptions.missing_key},o.css=function(){if(arguments[0]){var e=t.toolbox.toCamelCase(arguments[0].split("-").join(" "));return arguments[1]?r.style[e]=arguments[1]:r.style[e]}throw t.exceptions.missing_key},o.append=function(){return arguments[0]&&(r.innerHTML+=t.toolbox.isString(arguments[0])?arguments[0]:arguments[0].element.innerHTML),o},o.size=function(){return r.length},o.html=function(){return arguments[0]?r.innerHTML=t.toolbox.isString(arguments[0])?arguments[0]:arguments[0].element.innerHTML:r.innerHTML},o.after=function(){r.parentNode.insertBefore(arguments[0].element,r.nextSibling)},o.before=function(){r.parentNode.insertBefore(arguments[0].element,r)},o.isEmpty=function(){return r.hasChildNodes()},o.next=function(){return t(r.nextSibling)},o.previous=function(){return t(r.previousSibling)},o.parent=function(){return t(r.parentNode)},o.empty=function(){for(;r.firstChild;)r.removeChild(r.firstChild);return o},o.clone=function(){return t(r.cloneNode(!0))},o.find=function(){return t(arguments[0],r)},o.addClass=function(){return r.classList.add(arguments[0]),o},o.removeClass=function(){return r.classList.remove(arguments[0]),o},o.toggleClass=function(){return r.classList.toggle(arguments[0]),o},o.each=function(){var e=arguments[0];t.toolbox.isNodeList(r)&&t.toolbox.iterate(r,function(){(e=e.bind($t(this)))($t(this))})},o.render=function(){if(arguments){var e=arguments[1]||{};return e.container=o,t.render.component(arguments[0],arguments[1])}},o.load=function(){var e=arguments[0]||{},n=e.success;e.type="html",e.success=function(e){var t=$t(e);o.append(t),n&&n(t)},t.ajax.get(e)},o.element=r,o},n={},r={},o={};t.create=function(){function e(e,r){try{if(t.toolbox.isFunction(r().controller))return n[e]=r,r}catch(o){throw t.exceptions.view_not_valid}throw t.exceptions.view_not_valid}function a(e,t){return o[e]=t,t}function i(e,n){try{var o=n();if(o.template||!o.template&&o.templateURL)return r[e]=n,n}catch(a){throw t.exceptions.component_not_valid}throw t.exceptions.component_not_valid}function s(e,n){return t.toolbox[e]=n(),n}return{view:e,model:a,component:i,tool:s}}(),t.get=function(){function e(e){return n[e]}function a(e){return o[e]}function i(e){return r[e]}function s(e){return t.toolbox[e]}return{view:e,model:a,component:i,tool:s}}(),t.remove=function(){function e(e){delete n[e]}function a(e){delete o[e]}function i(e){delete r[e]}function s(e){delete t.toolbox[e]}return{view:e,model:a,component:i,tool:s}}(),t.render=function(){function e(e,r){function o(){var n=t.get.view("base");n&&n(r.data),t.views.current=e,a.controller(r.data),t.views.enter(),i&&i(a)}var a=n[e]();r=r||{},r.async=!1;var i=r.success;if(t.router.clientSideRouting){if(!t.templates)throw t.exceptions.missing_module;var s=a.template;s||(r.async=!0,r.success=function(e){a.template=e,o()},s=a.templateURL),t.templates.process(s,r)}(!t.router.clientSideRouting||!r.async)&&o()}function o(e){function n(){a.controller&&a.controller(e.data),t.event.trigger("component:render:finished"),i&&i(a)}if(!t.templates)throw t.exceptions.missing_module;e=e||{};var o=e.container.data("thram-component"),a=r[o]();e.async=!1;var i=e.success,s=a.template;s||(e.async=!0,e.success=function(e){a.template=e,n()},s=a.templateURL),a.className&&e.container.addClass(a.className),t.templates.process(s,e),!e.async&&n()}return{view:e,component:o}}(),t.start=function(){e()(function(){t.views.enter(),t.router.process(),t.router.clientSideRouting&&window.addEventListener("hashchange",function(e){t.views.leave(t.views.current),t.router.process()},!1)})},window.thram=t,window.$t=window.thram}(),thram.ajax=function(){function e(){var e,t,n,r=!1;try{t=new XMLHttpRequest,thram.toolbox.isUndefined(t.withCredentials)&&(t=new XDomainRequest)}catch(o){for(e=["MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length&&!r;n++)try{r=!0,t=new ActiveXObject(e[n])}catch(a){}if(!r)throw new Error("Unable to create XMLHttpRequest!")}return t}function t(){}function n(){if(arguments){var n=arguments[0]||{},r=e();try{if(n.headers=n.headers||{},!n.headers["Content-Type"]){n.type=n.type||"html";var a;switch(n.type){case"txt":a="text/plain";break;case"jsonp":return void t(n);case"json":a="application/json";var i=n.success;n.success=function(e){i&&i(JSON.parse(e))};break;case"html":a="text/html";break;default:a="application/x-www-form-urlencoded"}n.headers["Content-Type"]=a+"; charset=UTF-8"}r.withCredentials=n.cors||o.cors,r.open(n.method,encodeURI(n.url),!0);for(var s in n.headers)n.headers.hasOwnProperty(s)&&r.setRequestHeader(s,n.headers[s]);r.onload=function(){if(200!==r.status)throw{error:r.status,message:r.statusText};n.success&&n.success(r.responseText)},r.onreadystatechange=function(){var e;if(4===r.readyState){if(200!==r.status)throw{error:r.status,message:r.statusText};e=r.responseXML?r.responseXML.getElementsByTagName("PROGRESS")[0].firstChild.nodeValue:100,n.progress&&n.progress(e)}};var u=n.data||{};r.send(u instanceof FormData?u:JSON.stringify(u))}catch(c){n.error&&n.error(c)}}}function r(){var e=arguments[0]||{};return e.success=e.success||console.log,e.error=e.error||console.error,e}var o={cors:!1};return o.get=function(){var e=r(arguments[0]);e.method="GET",n(e)},o.post=function(){var e=r(arguments[0]);e.method="GET",n(e)},o.post=function(){var e=r(arguments[0]);e.method="POST",n(e)},o.put=function(){var e=r(arguments[0]);e.method="PUT",n(e)},o.patch=function(){var e=r(arguments[0]);e.method="PATCH",n(e)},o["delete"]=function(){var e=r(arguments[0]);e.method="DELETE",n(e)},o.form=function(){var e=r(arguments[0]),t=new FormData;for(var o in e.data)e.data.hasOwnProperty(o)&&t.append(o,e.data[o]);e.method="POST",e.data=t,n(e)},o}(),thram.animation=function(){var e={};return e}(),thram.event=function(){var e={};return e.trigger=function(e,t){var n=new Event("thram:"+e,t);dispatchEvent(n)},e.on=function(e,t,n){n&&removeEventListener("thram:"+e,t),addEventListener("thram:"+e,t)},e.off=function(e,t){removeEventListener("thram:"+e,t)},e}(),thram.examples={view:function(){thram.create.view("test",function(){return{template:"<div>Example</div>",templateURL:"views/test.html",controller:function(e){}}});var e=thram.get.view("test");e.render(),thram.remove.view("test")},component:function(){thram.create.component("test",function(){return{template:"<div>Example</div>",templateURL:"component/test.html",className:"",controller:function(e){}}});var e=thram.get.component("test");e.render(),thram.remove.component("test")},model:function(){thram.create.model("test",function(e){function t(e){return r[e]}function n(e,t){r[e]=t}var r=e||{};return{get:t,set:n}});var e=thram.get.model("test")({joker:"Hahahahaha!"});e.set("deadpool","Coolest Superhero ever!"),e.get("deadpool"),e.get("joker"),thram.remove.model("test")},toolbox:function(){thram.create.tool("test",function(){function e(e){console.log(e)}function t(e){console.log(e)}return{log:e,error:t}});var e=thram.get.tool("test");e.log("Message!"),thram.toolbox.test.log("Message!"),thram.remove.tool("test")},events:function(){thram.event.on("test",function(e){console.log(e)}),thram.event.off("test"),thram.event.trigger("test")},router:function(){thram.routes=[{route:"/",view:"index"},{route:"/:app_namespace",view:"details"}]},storage:function(){},templates:function(){}},thram.exceptions={general:{code:"general",name:"System Error",message:"Error detected. Please contact the system administrator."},missing_id:{code:"missing-id",name:"Missing id",message:"You need at least the ID."},missing_argument:{code:"missing-argument",name:"Missing argument",message:"This method needs arguments, please check the documentation."},wrong_type_arguments:{code:"wrong-type-arguments",name:"Wrong type arguments",message:"The arguments don't math with any valid combination,  please check the documentation."},missing_key:{code:"missing-key",name:"Missing key",message:"You need at least the key."},missing_module:{code:"missing-module",name:"Module not found",message:"There is a module dependency. Please check if you added the correct modules."},view_not_valid:{code:"view-not-valid",name:"View format not valid",message:"The View Object must have a 'controller' method."},component_not_valid:{code:"component-not-valid",name:"Component format not valid",message:"The Component Object must have a 'template' or 'templateURL' attached."},no_view:{code:"no-view",name:"No View attached",message:"There is no View attached to the route. Please add one. Ex.: thram.router.register('/', {view: 'viewId' }"}},thram.router=function(){function e(e){thram.templates?window.location.hash="#"+e:window.location.href=e}function t(){var e={};try{thram.routes.forEach(function(t){var n=new RegExp(t.route.replace(/:[^\s/]+/g,"([\\w-]+)")),r=window.location.pathname;if(thram.router.clientSideRouting){var o=window.location.hash;0===o.indexOf("#/")?r=o.substr(o.indexOf("#")+1):thram.views.scrollTo(o)}var a=r.match(n);if(a&&a.length>0&&a[0]===r){var i={};if(t.route.indexOf(":")>=0){var s=t.route.match(/:(.+?)(\/|\?|$)/g);if(s){s=s.join("&").replace(/:/g,"").replace(/\//g,"").split("&");var u=a;s.forEach(function(e,t){i[e]=u[t]})}}var c=thram.toolbox.isString(t.view)?{id:t.view}:t.view;throw t.validate?t.validate.validation()?thram.render.view(c.id,c.data):t.validate.onValidationFail():thram.render.view(c.id,c.data),e}})}catch(t){if(t!==e)throw t}}function n(e,t){if(!t.view)throw thram.exceptions.no_view;r[e]=t}var r={};return{clientSideRouting:!0,register:n,go:e,process:t}}(),thram.storage=function(){function e(){try{return a in r&&r[a]}catch(e){return!1}}var t,n={},r=window,o=r.document,a="localStorage",i="script";if(n.disabled=!1,n.version="1.3.17",n.set=function(e,t){},n.get=function(e,t){},n.has=function(e){return void 0!==n.get(e)},n.remove=function(e){},n.clear=function(){},n.transact=function(e,t,r){null===r&&(r=t,t=null),null===t&&(t={});var o=n.get(e,t);r(o),n.set(e,o)},n.getAll=function(){},n.forEach=function(){},n.serialize=function(e){return JSON.stringify(e)},n.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=r[a],n.set=function(e,r){return void 0===r?n.remove(e):(t.setItem(e,n.serialize(r)),r)},n.get=function(e,r){var o=n.deserialize(t.getItem(e));return void 0===o?r:o},n.remove=function(e){t.removeItem(e)},n.clear=function(){t.clear()},n.getAll=function(){var e={};return n.forEach(function(t,n){e[t]=n}),e},n.forEach=function(e){for(var r=0;r<t.length;r++){var o=t.key(r);e(o,n.get(o))}};else if(o.documentElement.addBehavior){var s,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+i+">document.w=window</"+i+'><iframe src="/favicon.ico"></iframe>'),u.close(),s=u.w.frames[0].document,t=s.createElement("div")}catch(c){t=o.createElement("div"),s=o.body}var m=function(e){return function(){var r=Array.prototype.slice.call(arguments,0);r.unshift(t),s.appendChild(t),t.addBehavior("#default#userData"),t.load(a);var o=e.apply(n,r);return s.removeChild(t),o}},l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(e){return e.replace(/^d/,"___$&").replace(l,"___")};n.set=m(function(e,t,r){return t=d(t),void 0===r?n.remove(t):(e.setAttribute(t,n.serialize(r)),e.save(a),r)}),n.get=m(function(e,t,r){t=d(t);var o=n.deserialize(e.getAttribute(t));return void 0===o?r:o}),n.remove=m(function(e,t){t=d(t),e.removeAttribute(t),e.save(a)}),n.clear=m(function(e){var t=e.XMLDocument.documentElement.attributes;for(e.load(a);t.length;)e.removeAttribute(t[0].name);e.save(a)}),n.getAll=function(e){var t={};return n.forEach(function(e,n){t[e]=n}),t},n.forEach=m(function(e,t){for(var r,o=e.XMLDocument.documentElement.attributes,a=0;r=o[a];++a)t(r.name,n.deserialize(e.getAttribute(r.name)))})}try{var f="__storejs__";n.set(f,f),n.get(f)!=f&&(n.disabled=!0),n.remove(f)}catch(c){n.disabled=!0}return n.enabled=!n.disabled,n}(),thram.templates=function(){function _getData(element){var thramData=element.data("thram-data");return thram.toolbox.isString(thramData)?eval("("+thramData+")"):thramData}function _loader(e,t,n,r){_pool[e]=_pool[e]||{status:"pending",queue:[]};var o=thram.storage.get("template:"+e);switch(o&&(_pool[e].status="loaded"),_pool[e].status){case"pending":return _pool[e].status="loading",$t("<div>").load({url:e,success:function(r){_pool[e].status="loaded",thram.storage.set("template:"+e,r.html());var o=0;return _pool[e].queue.forEach(function(t){t.success&&t.success(r.html(),t.container),o++,o===_pool[e].queue.length&&(_pool[e].queue=[])}),n&&n(r.html(),t)},error:r});case"loading":_pool[e].queue.push({success:n,error:r,container:t});break;case"loaded":return n&&n(o,t)}}function _processMarkup(e,t){if(e){t=t||{};for(var n,r,o=/\{\{(.+?)}}/g,a=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,i="with(obj) { var r=[];\n",s=0,u=function(e,t){return i+=t?e.match(a)?e+"\n":"r.push("+e+");\n":""!==e?'r.push("'+e.replace(/"/g,'\\"')+'");\n':"",u};r=o.exec(e);)u(e.slice(s,r.index))(r[1],!0),s=r.index+r[0].length;u(e.substr(s,e.length-s)),i=(i+'return r.join(""); }').replace(/[\r\t\n]/g,"");try{n=new Function("obj",i).apply(t,[t])}catch(c){console.error("'"+c.message+"'"," in \n\nCode:\n",i,"\n")}return n}throw{error:"Template undefined"}}function process(e,t){try{if(t.async){var n=t.container||$t("[data-thram-view]");n.data("thram-data",JSON.stringify(t.data||_getData(n))),_loader(e,n,function(e,n){var r=_getData(n),o=_processMarkup(e,r);n.remove("data","thram-data"),n.html(o);var a=n.find("[data-thram-component]");a.each(function(e){thram.render.component({container:e,data:_getData(e)})}),t.success&&t.success(e,n)})}else _processMarkup(e,t.data)}catch(r){console.error(r),t.error&&t.error(r)}}var _pool={};return{process:process}}(),thram.toolbox=function(){function e(){var e=arguments[0],t=arguments[1];e&&(e=e.bind(t))(t)}var t={};return t.toType=function(e){var t=Object.prototype.toString,n=/^.*\s(\w+).*$/;return function(r){return r===e?"global":t.call(r).replace(n,"$1").toLowerCase()}}(this),t.isDOMElement=function(e){return e&&!!e.tagName},t.isType=function(e,n){return t.toType(e)===n},t.isUndefined=function(e){return t.isType(e,"undefined")},t.isNull=function(e){return null===e},t.isNan=function(e){return isNaN(e)},t.isBoolean=function(e){return t.isType(e,"boolean")},t.isNumber=function(e){return t.isType(e,"number")},t.isString=function(e){return t.isType(e,"string")},t.isObject=function(e){return!t.isNull(e)&&t.isType(e,"object")},t.isFunction=function(e){return t.isType(e,"function")},t.isArray=function(e){return t.isType(e,"array")},t.isNodeList=function(e){return t.isType(e,"nodelist")},t.iterate=function(){var n=arguments[0],r=arguments[1];if(!t.isArray(n)&&!t.isNodeList(n))throw thram.exceptions.wrong_type_arguments;for(var o=0,a=n.length;a>o;o++)e(r,n[o])},t.each=function(){var n=arguments[0],r=arguments[1];if(!t.isObject(n))throw thram.exceptions.wrong_type_arguments;for(var o in n)n.hasOwnProperty(o)&&e(r,o)},t.clone=function(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t.toCamelCase=function(e){return e.toLowerCase().replace(/['"]/g,"").replace(/\W+/g," ").replace(/ (.)/g,function(e){return e.toUpperCase()}).replace(/ /g,"")},t}(),thram.url=function(){var e={};return e.encodeParams=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length>0&&(t+="&"),t+=encodeURI(n+"="+e[n]));return t},e}(),thram.views=function(){var e={};return e.enter=function(e,t){},e.leave=function(e,t,n){},e.scrollTo=function(e,t){},window.onbeforeunload=e.leave,e}();